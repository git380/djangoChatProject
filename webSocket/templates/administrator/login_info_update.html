<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>変更</title>
</head>
<body>
    <h1>変更</h1>
    <h2>ID:{{ login_info.login_id }}</h2>
    <form method="post" action="{% url 'info_update' login_info.login_id %}">
        {% csrf_token %}
        <label for="name">名前:</label>
        <input type="text" id="name" name="name" value="{{ login_info.name }}" disabled>
        <input type="checkbox" id="name_checkbox" name="name_checkbox"><br>

        <label for="password">パスワード:</label>
        <input type="password" id="password" name="password" required disabled>
        <input type="checkbox" id="password_checkbox" name="password_checkbox"><br>

        <label for="address">メールアドレス:</label>
        <input type="text" id="address" name="address" value="{{ login_info.address }}" disabled>
        <input type="checkbox" id="address_checkbox" name="address_checkbox"><br>

        <label for="role">ロール:</label>
        <select id="role" name="role" disabled>
            <option value="1" {% if login_info.role == 1 %}selected{% endif %}>学生</option>
            <option value="2" {% if login_info.role == 2 %}selected{% endif %}>先生</option>
            <option value="3" {% if login_info.role == 3 %}selected{% endif %}>管理者</option>
        </select>
        <input type="checkbox" id="role_checkbox" name="role_checkbox"><br>

        <input type="submit" value="変更">
    </form>

    <script>
        ['name', 'password', 'address', 'role'].forEach(id => {
            document.getElementById(`${id}_checkbox`).addEventListener('change', function() {
                document.getElementById(id).disabled = !this.checked;
            });
        });
    </script>
</body>
</html>
